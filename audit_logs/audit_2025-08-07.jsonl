{"event_id":"c260f5a8-774e-4e83-8f15-f8e6124d9e02","timestamp":"2025-08-07T02:50:08.443693Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":92058,"error_context":{"error_id":"60c1125a-76e6-4df6-9ed1-e665f028c63a","timestamp":"2025-08-07T02:50:08.443141Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-107","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 725, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 721, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 203, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 712, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754535008.443585,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"54279865-d5f0-427c-9ad1-b83bb33927cb","timestamp":"2025-08-07T02:50:08.451537Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":92058,"error_context":{"error_id":"1b8e46aa-48f1-4c72-9b37-643868a6d470","timestamp":"2025-08-07T02:50:08.451093Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-107","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 725, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 721, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 203, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 712, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754535008.451515,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"5ae5ce93-f670-43ca-add6-2575ef0d92b4","timestamp":"2025-08-07T03:25:03.150489Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":17723,"error_context":{"error_id":"0a11b563-9113-431c-afae-92430d78dba1","timestamp":"2025-08-07T03:25:03.149842Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-104","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 738, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 734, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 725, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754537103.1504378,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"cc38287d-c4de-4bb6-9b60-63c636fc3be7","timestamp":"2025-08-07T03:25:03.157166Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":17723,"error_context":{"error_id":"10f37ee4-6755-4440-96fc-0832f27a1990","timestamp":"2025-08-07T03:25:03.156685Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-104","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 738, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 734, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 725, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754537103.157143,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"a8c1c291-f18c-485b-a69c-7038b7bd6ca8","timestamp":"2025-08-07T11:41:14.996737Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":4890,"error_context":{"error_id":"79d808e5-92f0-407d-a18f-3189ddc15b13","timestamp":"2025-08-07T11:41:14.995031Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-212","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 738, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 734, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 725, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754566874.996664,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"0336bfc1-964c-465e-a1d2-2645df5d47e2","timestamp":"2025-08-07T11:41:15.007699Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":4890,"error_context":{"error_id":"b6b14bde-7b6e-4dec-9f6a-47c176f8209b","timestamp":"2025-08-07T11:41:15.006962Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-212","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 738, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 734, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 725, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754566875.0076659,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"a628a649-5870-4289-9277-60576da5d748","timestamp":"2025-08-07T11:48:23.366927Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":8061,"error_context":{"error_id":"efa4b976-8363-4a95-84e1-ca243aca517d","timestamp":"2025-08-07T11:48:23.366380Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-162","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1052, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1048, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1039, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567303.366891,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"ddb24097-837a-4259-b248-2a9d9c6ab487","timestamp":"2025-08-07T11:48:23.378137Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":8061,"error_context":{"error_id":"57d52441-daca-4b9b-8a9e-78fe34eefe95","timestamp":"2025-08-07T11:48:23.377604Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-162","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1052, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1048, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1039, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567303.378111,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"1441d00f-1bbe-44f1-9894-6e0aa4330808","timestamp":"2025-08-07T11:48:42.541905Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":8473,"error_context":{"error_id":"cc92e770-214b-4cc6-887f-67e232546d40","timestamp":"2025-08-07T11:48:42.541307Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-162","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1052, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1048, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1039, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567322.5418649,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"8f6f316e-76c7-40c7-be55-6b02602d1f2e","timestamp":"2025-08-07T11:48:42.551459Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":8473,"error_context":{"error_id":"d10eacbe-037a-4e8a-b69e-a4a34c57770d","timestamp":"2025-08-07T11:48:42.551043Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-162","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Development/fapilog/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1052, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1048, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1039, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567322.551439,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"c23fdd68-9e16-4ef1-9e69-5636fb9d6333","timestamp":"2025-08-07T11:49:04.508345Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":8597,"error_context":{"error_id":"8281518a-fac4-441d-9c4e-2054ee618f76","timestamp":"2025-08-07T11:49:04.507319Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-270","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1052, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1048, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1039, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567344.5082638,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"16b553dc-3b56-425e-9e51-780e90f3268a","timestamp":"2025-08-07T11:49:04.517645Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":8597,"error_context":{"error_id":"66005a40-c702-4ca7-8abe-677655f47f00","timestamp":"2025-08-07T11:49:04.516864Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-270","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1052, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1048, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1039, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567344.517604,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"00e84b63-d369-4d24-aad1-46d75ec804e9","timestamp":"2025-08-07T11:56:10.396032Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":12329,"error_context":{"error_id":"04625b64-a8e1-4603-89c8-6a0edca5ae71","timestamp":"2025-08-07T11:56:10.395035Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-324","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1479, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1475, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1466, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567770.395962,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"3962fbb1-fd13-423a-a34c-9ab6bb5cd2cd","timestamp":"2025-08-07T11:56:10.408032Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":12329,"error_context":{"error_id":"f5a6a441-9d6b-49a6-86cd-869f5b0fce8a","timestamp":"2025-08-07T11:56:10.407087Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-324","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1479, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1475, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1466, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567770.407986,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"bf9b4199-5d52-4383-b217-ba61c663baea","timestamp":"2025-08-07T11:56:52.373348Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":12600,"error_context":{"error_id":"7dcfbae3-0ea9-464c-96d9-c9a0d7a14ad1","timestamp":"2025-08-07T11:56:52.372131Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-324","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1477, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1473, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1464, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567812.373205,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"fc3ac2b5-caca-44a4-a193-5051de5eab51","timestamp":"2025-08-07T11:56:52.385117Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":12600,"error_context":{"error_id":"b647f9eb-f985-48e5-adcb-38ca6fab2a1a","timestamp":"2025-08-07T11:56:52.384367Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-324","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1477, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1473, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1464, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754567812.38508,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"4f7a2d72-4138-4cfd-a0dd-8e25ffe2b66a","timestamp":"2025-08-07T12:16:38.478723Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":18707,"error_context":{"error_id":"185b1208-707e-4b69-91b1-399a72a61ca4","timestamp":"2025-08-07T12:16:38.476120Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-390","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1909, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1905, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1896, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754568998.478594,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"69b6af1a-76c4-4f49-bfab-cf3270f0ef33","timestamp":"2025-08-07T12:16:38.489437Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":18707,"error_context":{"error_id":"4daa02a2-0383-48dc-9f30-630547545d01","timestamp":"2025-08-07T12:16:38.488647Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-390","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1909, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1905, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1896, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754568998.489399,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"6d419fbb-4adc-4d43-9b6f-a4b353465ec3","timestamp":"2025-08-07T12:19:00.156896Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":19338,"error_context":{"error_id":"2001c6af-86d1-4e5a-81ff-90df385437f1","timestamp":"2025-08-07T12:19:00.154346Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-390","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1917, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1913, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1904, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754569140.1567721,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"4b829c44-7b8e-4f1c-beac-980d15584a57","timestamp":"2025-08-07T12:19:00.165762Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":19338,"error_context":{"error_id":"2dcb89bb-10c9-46bb-8fc4-7c90d9da9ba0","timestamp":"2025-08-07T12:19:00.164941Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-390","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1917, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1913, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 1904, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754569140.165726,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"5dce8c33-6a23-4ad2-82ae-41d5a60366e9","timestamp":"2025-08-07T12:24:56.200832Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":22275,"error_context":{"error_id":"cd05f24c-0896-412f-bbcd-76be7c7519d2","timestamp":"2025-08-07T12:24:56.199224Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-456","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 2499, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 2495, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 2486, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754569496.200751,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
{"event_id":"51c3a52e-3c85-47a5-8d84-2c54d4e57cdd","timestamp":"2025-08-07T12:24:56.207614Z","event_type":"error_occurred","log_level":"error","message":"Error occurred: Network temporarily unavailable","component":null,"operation":"complex_operation","user_id":"test-user","session_id":null,"request_id":"integration-test-123","client_ip":null,"user_agent":null,"container_id":null,"plugin_name":null,"hostname":"mbp-1.lan","process_id":22275,"error_context":{"error_id":"d55d8103-f58a-4639-83ee-5b58bcbbc146","timestamp":"2025-08-07T12:24:56.206925Z","category":"network","severity":"high","recovery_strategy":"retry","task_name":"Task-456","coroutine_name":"test_full_error_handling_stack","call_stack":["  File \"<frozen runpy>\", line 198, in _run_module_as_main\n","  File \"<frozen runpy>\", line 88, in _run_code\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest/__main__.py\", line 9, in <module>\n    raise SystemExit(pytest.console_main())\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 201, in console_main\n    code = main()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/config/__init__.py\", line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 336, in pytest_cmdline_main\n    return wrap_session(config, _main)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 289, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 343, in _main\n    config.hook.pytest_runtestloop(session=session)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/main.py\", line 367, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 117, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 136, in runtestprotocol\n    reports.append(call_and_report(item, \"call\", log))\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 245, in call_and_report\n    call = CallInfo.from_call(\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    result: TResult | None = func()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    item.runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 426, in runtest\n    super().runtest()\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n","  File \"/Users/chris/Library/Application Support/hatch/env/virtual/fapilog/zJwoYcdm/test/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 642, in inner\n    _loop.run_until_complete(task)\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 683, in run_forever\n    self._run_once()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py\", line 2042, in _run_once\n    handle._run()\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 2499, in test_full_error_handling_stack\n    result = await retried_operation()\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 480, in wrapper\n    return await retrier.retry(func, *args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/retry.py\", line 211, in retry\n    result = await func(*args, **kwargs)\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 2495, in retried_operation\n    return await circuit_breaker.call(complex_operation)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/circuit_breaker.py\", line 205, in call\n    result = await asyncio.wait_for(\n","  File \"/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n","  File \"/Users/chris/Development/fapilog/tests/unit/test_error_handling.py\", line 2486, in complex_operation\n    error = NetworkError(\"Network temporarily unavailable\")\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 304, in __init__\n    super().__init__(\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 159, in __init__\n    self._capture_async_context(error_context)\n","  File \"/Users/chris/Development/fapilog/src/fapilog/core/errors.py\", line 187, in _capture_async_context\n    context.call_stack = traceback.format_stack()\n"],"user_id":"test-user","session_id":null,"request_id":"integration-test-123","container_id":null,"component_name":null,"plugin_name":null,"operation_start_time":1754569496.207582,"operation_duration":null,"metadata":{}},"error_category":"network","error_severity":"high","data_classification":null,"contains_pii":false,"contains_phi":false,"compliance_level":"basic","regulatory_tags":[],"retention_category":null,"metadata":{},"checksum":null,"signature":null}
